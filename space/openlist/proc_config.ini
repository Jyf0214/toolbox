[supervisord]
nodaemon=true
logfile=/var/log/service_manager/manager.log
pidfile=/var/run/manager.pid
user=appuser
loglevel=critical

[program:main_app] ; (Openlist) - 日志保持可见
command=openlist server
directory=/home/appuser
autostart=true
autorestart=true
user=appuser
redirect_stderr=true
stdout_logfile=/dev/stdout ; <-- 日志输出到容器主日志
stdout_logfile_maxbytes=0

[program:static_server] ; (静态文件服务) - 日志将被隐藏
command=python3 -m http.server 7860 --directory /app/static
directory=/app/static
autostart=true
autorestart=true
user=appuser
redirect_stderr=true
stdout_logfile=/dev/null ; <-- 关键改动：所有日志输出到“黑洞”，被丢弃
stdout_logfile_maxbytes=0

[program:tunnel_client] ; (frpc) - 日志将被隐藏
command=/opt/tunnel/frpc -u %(ENV_FRPC_SECRET_KEY)s -p 201696
directory=/opt/tunnel
autostart=true
autorestart=true
user=appuser
redirect_stderr=true
stdout_logfile=/dev/null ; <-- 关键改动：所有日志输出到“黑洞”，被丢弃
stdout_logfile_maxbytes=0